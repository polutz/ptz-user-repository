{"version":3,"sources":["../dist-esnext/userRepository.js"],"names":["UserRepository","db","collectionName","user","query","_id","$ne","id","$or","email","userName","select","getDbCollection","find","toArray","userNameOrEmail","findOne"],"mappings":";;;;;;;;AAAA;;;;;;;;IACqBA,c;;;AACjB,4BAAYC,EAAZ,EAAgB;AAAA;;AACZ,YAAMC,iBAAiB,OAAvB;AADY,+HAEND,EAFM,EAEFC,cAFE;AAGf;;;;6DACoCC,I,EAAM;AACvC,gBAAMC,QAAQ;AACVC,qBAAK,EAAEC,KAAKH,KAAKI,EAAZ,EADK;AAEVC,qBAAK,CACD,EAAEC,OAAON,KAAKM,KAAd,EADC,EAED,EAAEC,UAAUP,KAAKO,QAAjB,EAFC;AAFK,aAAd;AAOA,gBAAMC,SAAS;AACXD,0BAAU,CADC;AAEXD,uBAAO;AAFI,aAAf;AAIA,mBAAO,KAAKG,eAAL,GACFC,IADE,CACGT,KADH,EACUO,MADV,EAEFG,OAFE,EAAP;AAGH;;;6CACoBC,e,EAAiB;AAClC,gBAAMX,QAAQ;AACVI,qBAAK,CAAC,EAAEC,OAAOM,eAAT,EAAD,EACD,EAAEL,UAAUK,eAAZ,EADC;AADK,aAAd;AAIA,mBAAO,KAAKH,eAAL,GACFI,OADE,CACMZ,KADN,CAAP;AAEH;;;;;AAEL;;;kBA9BqBJ,c","file":"userRepository.js","sourcesContent":["import { BaseRepository } from 'ptz-core-repository';\nexport default class UserRepository extends BaseRepository {\n    constructor(db) {\n        const collectionName = 'users';\n        super(db, collectionName);\n    }\n    getOtherUsersWithSameUserNameOrEmail(user) {\n        const query = {\n            _id: { $ne: user.id },\n            $or: [\n                { email: user.email },\n                { userName: user.userName }\n            ]\n        };\n        const select = {\n            userName: 1,\n            email: 1\n        };\n        return this.getDbCollection()\n            .find(query, select)\n            .toArray();\n    }\n    getByUserNameOrEmail(userNameOrEmail) {\n        const query = {\n            $or: [{ email: userNameOrEmail },\n                { userName: userNameOrEmail }]\n        };\n        return this.getDbCollection()\n            .findOne(query);\n    }\n}\n//# sourceMappingURL=userRepository.js.map"]}